awsProfileMap:
  default:
    region: us-east-1
    accessKeyIdCredential: aws-access-key-id
    secretAccessKeyCredential: aws-secret-access-key
azureProfileMap:
  default:
    keyVaultName: your-keyvault-name
    tenantIdCredential: azure-tenant-id
    clientIdCredential: azure-client-id
    clientSecretKeyCredential: azure-client-secret-key
deployTargetMap:
  dev01: !!com.boxboat.jenkins.library.deployTarget.KubernetesDeployTarget
    contextName: boxboat
    credential: kubeconfig-dev
  prod01: !!com.boxboat.jenkins.library.deployTarget.KubernetesDeployTarget
    contextName: boxboat
    credential: kubeconfig-prod
  prod02: !!com.boxboat.jenkins.library.deployTarget.KubernetesDeployTarget
    contextName: boxboat
    credential: kubeconfig-prod-02
  prod03: !!com.boxboat.jenkins.library.deployTarget.KubernetesDeployTarget
    credential: !!com.boxboat.jenkins.library.credentials.vault.VaultFileCredential
      vault: default
      path: kv/kubeconfig
      fileKey: prod03
  gke01: !!com.boxboat.jenkins.library.gcloud.GCloudGKEDeployTarget
    gCloudAccountKey: default
    name: kube-cluster-name
    project: gcloud-project
    zone: us-central1-a
environmentMap:
  dev:
    name: dev
    deployTargetKey: dev01
  prod:
    name: prod-a
    deployTargetKey: prod01
    replicaEnvironments:
      - name: prod-b
        deployTargetKey: prod02
gCloudAccountMap:
  default:
    account: service-account@gcloud-project.iam.gserviceaccount.com
    keyFileCredential: gcloud-key-file-credential
git:
  buildVersionsUrl: git@github.com:boxboat/build-versions.git
  credential: git
  email: jenkins@boxboat.com
  remotePathRegex: github\.com[:\/]boxboat\/(.*)\.git$
  remoteUrlReplace: git@github.com:boxboat/{{ path }}.git
  branchUrlReplace: https://github.com/boxboat/{{ path }}/tree/{{ branch }}
  commitUrlReplace: https://github.com/boxboat/{{ path }}/commit/{{ hash }}
  gitAlternateMap:
    gitlab:
      remotePathRegex: gitlab\.com[:\/]boxboat\/(.*)\.git$
      remoteUrlReplace: git@gitlab.com:boxboat/{{ path }}.git
      branchUrlReplace: https://gitlab.com/boxboat/{{ path }}/tree/{{ branch }}
      commitUrlReplace: https://gitlab.com/boxboat/{{ path }}/commit/{{ hash }}
notifyTargetMap:
  default: !!com.boxboat.jenkins.library.notify.SlackWebHookNotifyTarget
    credential: slack-webhook-url
  prod: !!com.boxboat.jenkins.library.notify.SlackWebHookNotifyTarget
    credential: !!com.boxboat.jenkins.library.credentials.vault.VaultStringCredential
      vault: default
      path: kv/slack-prod-credentials
      stringKey: webhook-url
registryMap:
  default:
    scheme: https
    host: dtr.boxboat.com
    credential: registry
    imageUrlReplace: https://dtr.boxboat.com/repositories/{{ path }}/{{ tag }}/linux/amd64/layers
  dev:
    scheme: https
    host: harbor.boxboat.com
    credential: !!com.boxboat.jenkins.library.credentials.vault.VaultUsernamePasswordCredential
      vault: default
      path: kv/harbor-dev-credentials
      usernameKey: username
      passwordKey: password
    imageUrlReplace: https://harbor.boxboat.com/harbor/projects/1/repositories/{{ path }}/tags/{{ tag }}
  gcr: !!com.boxboat.jenkins.library.gcloud.GCloudRegistry
    scheme: https
    host: gcr.io
    namespace: gcloud-project
    gCloudAccountKey: default
vaultMap:
  default:
    kvVersion: 1
    roleIdCredential: vault-role-id
    secretIdCredential: vault-secret-id
    tokenCredential: vault-token
    url: http://localhost:8200

repo:
  common:
    defaultBranch: master
    notify:
      targetMap:
        jenkins: !!com.boxboat.jenkins.library.notify.SlackJenkinsAppNotifyTarget
          channel: "#jenkins"
      successKeys:
        - default
        - jenkins
      successTargets:
        - !!com.boxboat.jenkins.library.notify.SlackJenkinsAppNotifyTarget
          channel: "#jenkins-success"
      failureKeys:
        - default
        - jenkins
      failureTargets:
        - !!com.boxboat.jenkins.library.notify.SlackJenkinsAppNotifyTarget
          channel: "#jenkins-failure"
      infoKeys:
        - default
        - jenkins
      infoTargets:
        - !!com.boxboat.jenkins.library.notify.SlackJenkinsAppNotifyTarget
          channel: "#jenkins-info"
    vaultKey: default
    eventRegistryKeys:
      - event: commit/master
        registryKey: default
      - eventRegex: commit/release/(.*)
        registryKey: default
      - eventRegex: tag/(.*)
        registryKey: default
  promote:
    promotionMap:
      stage:
        event: commit/master
        promoteToEvent: tag/rc
      prod:
        event: tag/rc
        promoteToEvent: tag/release
  deploy:
    deploymentMap:
      dev:
        environmentKey: dev
        event: commit/master
        trigger: true
      stage:
        environmentKey: dev
        event: tag/rc
        trigger: true
      prod:
        environmentKey: prod
        event: tag/release
        trigger: false
